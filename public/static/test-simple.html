<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì´ˆê°„ë‹¨ í…ŒìŠ¤íŠ¸</title>
    <style>
        body { font-family: monospace; padding: 40px; }
        button { padding: 15px 30px; margin: 10px; font-size: 18px; cursor: pointer; }
        #result { margin-top: 20px; padding: 20px; border: 2px solid #ccc; min-height: 100px; }
        .success { color: green; font-weight: bold; }
        .error { color: red; font-weight: bold; }
    </style>
</head>
<body>
    <h1>ğŸ” íšŒë¹„ ë²„íŠ¼ ì´ˆê°„ë‹¨ í…ŒìŠ¤íŠ¸</h1>
    
    <h2>1ë‹¨ê³„: í•¨ìˆ˜ ì •ì˜ í™•ì¸</h2>
    <button onclick="checkFunctions()">í•¨ìˆ˜ í™•ì¸</button>
    
    <h2>2ë‹¨ê³„: ì§ì ‘ í˜¸ì¶œ í…ŒìŠ¤íŠ¸</h2>
    <button onclick="testCall()">window.showFeeSettingModal() í˜¸ì¶œ</button>
    
    <h2>3ë‹¨ê³„: ì‹¤ì œ ë²„íŠ¼ (íšŒë¹„ê´€ë¦¬ í˜ì´ì§€ì™€ ë™ì¼)</h2>
    <button onclick="window.showFeeSettingModal()">íšŒë¹„ ì„¤ì • (ì‹¤ì œ ë²„íŠ¼)</button>
    
    <h2>ê²°ê³¼:</h2>
    <div id="result"></div>
    
    <!-- modalContainer -->
    <div id="modalContainer"></div>
    
    <!-- app.js ë¡œë“œ -->
    <script src="/static/app.js"></script>
    
    <script>
        function log(message, isError = false) {
            const result = document.getElementById('result');
            const color = isError ? 'red' : 'green';
            result.innerHTML += `<div style="color: ${color}">${message}</div>`;
            console.log(message);
        }
        
        function checkFunctions() {
            log('=== í•¨ìˆ˜ í™•ì¸ ì‹œì‘ ===');
            
            const functions = [
                'window.showFeeSettingModal',
                'window.showPayFeeModal',
                'window.processFeePayment',
                'window.saveFeeSetting'
            ];
            
            let allOk = true;
            functions.forEach(funcName => {
                const func = eval(funcName);
                const type = typeof func;
                const isOk = type === 'function';
                allOk = allOk && isOk;
                
                log(`${isOk ? 'âœ…' : 'âŒ'} ${funcName}: ${type}`, !isOk);
            });
            
            if (allOk) {
                log('âœ… ëª¨ë“  í•¨ìˆ˜ê°€ ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤!');
            } else {
                log('âŒ ì¼ë¶€ í•¨ìˆ˜ê°€ ì •ì˜ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤', true);
            }
        }
        
        function testCall() {
            log('=== ì§ì ‘ í˜¸ì¶œ í…ŒìŠ¤íŠ¸ ì‹œì‘ ===');
            
            try {
                if (typeof window.showFeeSettingModal === 'function') {
                    log('âœ… í•¨ìˆ˜ ì¡´ì¬ í™•ì¸');
                    log('ğŸ”µ window.showFeeSettingModal() í˜¸ì¶œ ì¤‘...');
                    
                    window.showFeeSettingModal();
                    
                    log('âœ… í˜¸ì¶œ ì„±ê³µ!');
                    
                    // ëª¨ë‹¬ í™•ì¸
                    setTimeout(() => {
                        const modal = document.getElementById('modalContainer');
                        if (modal && modal.innerHTML.includes('íšŒë¹„ ì„¤ì •')) {
                            log('âœ… ëª¨ë‹¬ì´ ì •ìƒì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!');
                        } else {
                            log('âŒ ëª¨ë‹¬ì´ ìƒì„±ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤', true);
                        }
                    }, 100);
                } else {
                    log('âŒ window.showFeeSettingModalì´ í•¨ìˆ˜ê°€ ì•„ë‹™ë‹ˆë‹¤', true);
                }
            } catch (error) {
                log('âŒ ì˜¤ë¥˜ ë°œìƒ: ' + error.message, true);
                console.error(error);
            }
        }
        
        // ì´ˆê¸°í™”
        window.app = window.app || {
            data: {
                feeSetting: { year: 2026, amount: 50000 },
                members: []
            }
        };
        
        window.closeModal = window.closeModal || function() {
            const modal = document.getElementById('modalContainer');
            if (modal) {
                modal.innerHTML = '';
                modal.style.display = 'none';
            }
            log('âœ… ëª¨ë‹¬ ë‹«ê¸°');
        };
        
        log('ğŸš€ í…ŒìŠ¤íŠ¸ í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ');
        log('ğŸ’¡ ìˆœì„œëŒ€ë¡œ ë²„íŠ¼ì„ í´ë¦­í•´ì£¼ì„¸ìš”');
    </script>
</body>
</html>
